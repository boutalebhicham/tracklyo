"use client"

import React from 'react'
import { Button } from '@/components/ui/button'

const WhatsAppIcon = () => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M16.75 13.96C17 14.21 16.99 14.81 16.29 15.51C15.59 16.21 14.9 16.2 14.65 16.2C14.4 16.2 13.06 15.68 11.53 14.15C9.69 12.31 8.8 10.47 8.8 10.22C8.8 9.97 9.32 8.63 9.32 8.63C9.56 8.38 9.31 8.14 9.06 7.88L8.54 7.36C8.28 7.1 7.93 6.94 7.62 6.94C7.32 6.94 7.01 6.94 6.77 7.19L5.87 8.09C5.63 8.34 5.03 8.94 5.03 10.22C5.03 11.5 6.77 13.24 8.24 14.71C9.71 16.18 11.5 17.97 12.78 17.97C14.06 17.97 14.66 17.37 14.91 17.12L15.81 16.22C16.06 15.97 16.06 15.67 16.06 15.36L15.54 14.84C15.29 14.59 15.04 14.35 14.8 14.59L14.34 15.05C14.1 15.3 13.75 15.54 13.75 15.54C13.51 15.79 13.26 15.79 13.01 15.54C12.76 15.29 11.71 14.24 11.71 14.24C10.05 12.58 10.05 11.2 10.05 10.95C10.05 10.7 10.3 10.45 10.55 10.2L11.01 9.74C11.26 9.49 11.5 9.25 11.26 9C11.01 8.75 10.06 7.7 10.06 7.7C9.82 7.45 9.57 7.2 9.57 7.2C9.32 6.95 9.07 6.95 8.83 7.2L8.37 7.66C8.12 7.91 7.87 8.15 8.12 8.4C8.37 8.65 9.07 9.35 9.07 9.35C9.31 9.6 9.31 9.85 9.07 10.1C8.82 10.35 8.03 11.14 8.03 11.14C7.78 11.39 7.78 11.64 8.03 11.89C8.28 12.14 12.52 16.38 12.77 16.63C13.02 16.88 13.27 16.88 13.51 16.63L14.41 15.73C14.66 15.48 14.91 15.23 14.66 14.98C14.42 14.73 13.72 14.03 13.72 14.03C13.47 13.78 13.47 13.53 13.72 13.28L16.23 10.77C16.48 10.52 16.73 10.52 16.98 10.77L17.44 11.23C17.69 11.48 17.69 11.73 17.44 11.98L16.75 12.67V13.96Z" fill="white"/>
        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z" fill="white"/>
    </svg>
)

const WhatsAppFab = ({ phoneNumber }: { phoneNumber: string }) => {
  if (!phoneNumber) return null;

  return (
    <Button
      asChild
      size="icon"
      className="fixed bottom-6 right-6 h-16 w-16 rounded-full bg-green-500 hover:bg-green-600 shadow-2xl z-50"
    >
      <a href={`https://wa.me/${phoneNumber}`} target="_blank" rel="noopener noreferrer">
        <WhatsAppIcon />
      </a>
    </Button>
  )
}

export default WhatsAppFab
