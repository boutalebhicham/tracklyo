{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user within the Tracklyo application, storing core profile information.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the user entity." },
        "name": { "type": "string", "description": "The user's full name." },
        "email": { "type": "string", "description": "The user's email address.", "format": "email" },
        "role": { "type": "string", "description": "The user's role within the application (PATRON or RESPONSABLE)." },
        "avatar": { "type": "string", "description": "URL of the user's profile picture." },
        "phoneNumber": { "type": "string", "description": "The user's phone number for WhatsApp integration." }
      },
      "required": ["id", "name", "email", "role"]
    },
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a project owned by a user.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the project." },
        "name": { "type": "string", "description": "Name of the project." },
        "authorId": { "type": "string", "description": "ID of the user who owns the project." },
        "createdAt": { "type": "string", "description": "Timestamp of when the project was created.", "format": "date-time" }
      },
      "required": ["id", "name", "authorId", "createdAt"]
    },
    "Recap": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Recap",
      "type": "object",
      "description": "Represents an activity recap created by a RESPONSABLE user for a specific project.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the recap entity." },
        "projectId": { "type": "string", "description": "Reference to Project." },
        "title": { "type": "string", "description": "Title of the activity recap." },
        "type": { "type": "string", "description": "Type of recap (DAILY or WEEKLY)." },
        "description": { "type": "string", "description": "Detailed description of the activity recap." },
        "date": { "type": "string", "description": "Date of the activity recap.", "format": "date-time" },
        "authorId": { "type": "string", "description": "Reference to User." }
      },
      "required": ["id", "projectId", "title", "type", "description", "date", "authorId"]
    },
    "Comment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Comment",
      "type": "object",
      "description": "Represents a comment on a recap.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the comment entity." },
        "projectId": { "type": "string", "description": "Reference to Project." },
        "recapId": { "type": "string", "description": "Reference to Recap." },
        "authorId": { "type": "string", "description": "Reference to User." },
        "content": { "type": "string", "description": "Content of the comment." },
        "date": { "type": "string", "description": "Date of the comment.", "format": "date-time" }
      },
      "required": ["id", "projectId", "recapId", "authorId", "content", "date"]
    },
    "Event": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Event",
      "type": "object",
      "description": "Represents a calendar event for a specific project.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the event entity." },
        "projectId": { "type": "string", "description": "Reference to Project." },
        "title": { "type": "string", "description": "Title of the calendar event." },
        "description": { "type": "string", "description": "Description of the calendar event." },
        "date": { "type": "string", "description": "Date and time of the calendar event.", "format": "date-time" },
        "authorId": { "type": "string", "description": "Reference to User." }
      },
      "required": ["id", "projectId", "title", "description", "date", "authorId"]
    },
    "Document": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Document",
      "type": "object",
      "description": "Represents a document for a specific project.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the document entity." },
        "projectId": { "type": "string", "description": "Reference to Project." },
        "name": { "type": "string", "description": "Name of the document." },
        "type": { "type": "string", "description": "Type of document." },
        "date": { "type": "string", "description": "Upload date of the document.", "format": "date-time" },
        "authorId": { "type": "string", "description": "Reference to User." },
        "size": { "type": "string", "description": "Size of the document." }
      },
      "required": ["id", "projectId", "name", "type", "date", "authorId", "size"]
    },
    "Transaction": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Transaction",
      "type": "object",
      "description": "Represents a financial transaction for a specific project.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the transaction entity." },
        "projectId": { "type": "string", "description": "Reference to Project." },
        "amount": { "type": "number", "description": "Amount of the transaction." },
        "reason": { "type": "string", "description": "Reason for the transaction." },
        "date": { "type": "string", "description": "Date of the transaction.", "format": "date-time" },
        "type": { "type": "string", "description": "Type of transaction (BUDGET_ADD or EXPENSE)." },
        "currency": { "type": "string", "description": "Currency of the transaction (EUR, USD, XOF)." },
        "authorId": { "type": "string", "description": "Reference to User." }
      },
      "required": ["id", "projectId", "amount", "reason", "date", "type", "currency", "authorId"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/backend/entities/User" },
          "description": "Stores user profiles."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}",
        "definition": {
          "entityName": "Project",
          "schema": { "$ref": "#/backend/entities/Project" },
          "description": "Stores projects owned by a user."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}/recaps/{recapId}",
        "definition": {
          "entityName": "Recap",
          "schema": { "$ref": "#/backend/entities/Recap" },
          "description": "Stores recaps for a specific project."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}/recaps/{recapId}/comments/{commentId}",
        "definition": {
          "entityName": "Comment",
          "schema": { "$ref": "#/backend/entities/Comment" },
          "description": "Stores comments for a specific recap."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}/events/{eventId}",
        "definition": {
          "entityName": "Event",
          "schema": { "$ref": "#/backend/entities/Event" },
          "description": "Stores events for a specific project."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}/documents/{documentId}",
        "definition": {
          "entityName": "Document",
          "schema": { "$ref": "#/backend/entities/Document" },
          "description": "Stores documents for a specific project."
        }
      },
      {
        "path": "/users/{userId}/projects/{projectId}/transactions/{transactionId}",
        "definition": {
          "entityName": "Transaction",
          "schema": { "$ref": "#/backend/entities/Transaction" },
          "description": "Stores transactions for a specific project."
        }
      }
    ]
  }
}
